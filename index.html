<!DOCTYPE html>
<html>
  <head>
    <title>SnowflakeOS's blog</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="Locally grown blog posts, by Johan Manuel">
    <meta property="og:description" content="Locally grown blog posts, by Johan Manuel" />
    
    <meta name="author" content="SnowflakeOS" />

    
    


    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Avenir" />
    <link rel="alternate" type="application/rss+xml" title="SnowflakeOS - Locally grown blog posts, by Johan Manuel" href="/feed.xml" />
    
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-169883671-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-169883671-1');
</script>


  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/" class="site-avatar"><img src="/assets/logo_big.png" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="/">SnowflakeOS</a></h1>
            <p class="site-description">Locally grown blog posts, by Johan Manuel</p>
          </div>

          <nav>
            <a href="/">Blog</a>
            <a href="/about">About</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <head>
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
</head>

<div class="posts">
  
    <article class="post">
      <h1><a href="/porting-doom/">Porting Doom</a></h1>
      <div class="entry">
        <i>
          December 15, 2020
        </i>
        <p><img src="/assets/doom.jpg" alt="Doom running on SnowflakeOS" class="thumbnail" title="The Doomslayer has awoken" />
Some things in life are inevitable. The passing of seasons, the fall of empires, and the porting of Doom to random platforms. In this post, we’ll investigate this last phenomenon, and how it came to happen in SnowflakeOS.</p>


      </div>
      <a href="/porting-doom/" class="read-more">Read More</a>
    </article>
  
    <article class="post">
      <h1><a href="/filesystems-for-dummies/">Filesystems for dummies</a></h1>
      <div class="entry">
        <i>
          October 17, 2020
        </i>
        <p><img src="/assets/sos-corpo2.jpg" alt="Showing off the flex new background" class="thumbnail" title="The dummy in question is the author, fwiw" />
Welcome to a new post from this very irregular blog! After busy summer holidays spent hiking in the Pyrenees, college has begun again and with it, the peace required for osdev work to resume. Last time I worked on SnowflakeOS, I’d gone all in on UI work, left unfinished and unpolished. Having entirely forgotten about that work, I booted up the project and thought: “why no files? let there be files”, and now, files sort of are. Let’s see how they work, and how they don’t.</p>


      </div>
      <a href="/filesystems-for-dummies/" class="read-more">Read More</a>
    </article>
  
    <article class="post">
      <h1><a href="/a-terminal-at-last/">A terminal, at last</a></h1>
      <div class="entry">
        <i>
          May 24, 2020
        </i>
        <p><img src="/assets/sos-paint.jpg" alt="picture" class="thumbnail" title="The author wasn't fucking around _this_ week." />
Let’s face it, it’s hard to get excited about a kernel from just barebone demos of barely functional systems. In this article, I propose a radical solution: actually implementing useful userspace programs, namely a terminal, and ye old copycat of paint.</p>


      </div>
      <a href="/a-terminal-at-last/" class="read-more">Read More</a>
    </article>
  
    <article class="post">
      <h1><a href="/a-need-for-speed/">A need for speed</a></h1>
      <div class="entry">
        <i>
          May 08, 2020
        </i>
        <p><img src="/assets/snowy_bg.jpg" alt="thumbnail" class="thumbnail" title="I choose the worst wallpapers" />
At the end of the last post we had a pretty solid memory allocator. Where does that take us though? Well in some cases, making hundreds of small allocations can lead to thousandfold improvements. Today, we reach for performance!</p>


      </div>
      <a href="/a-need-for-speed/" class="read-more">Read More</a>
    </article>
  
    <article class="post">
      <h1><a href="/advanced-memory-allocation/">Taming memory allocators</a></h1>
      <div class="entry">
        <i>
          March 07, 2020
        </i>
        <p><img src="/assets/sos-spam.jpg" alt="Current state of the GUI" class="thumbnail" title="This used to be a 17 MiB gif, it got shot down. Notice that window staying on top of all others?" />
Today I’ll be writing about memory allocation, a fairly fundamental topic, perhaps one that most encounter faily early in their OS development journey. Yet I’ve only now started to really get into it, now that I feel like it’s needed. And it turned out to be fun after all!</p>


      </div>
      <a href="/advanced-memory-allocation/" class="read-more">Read More</a>
    </article>
  
    <article class="post">
      <h1><a href="/room-for-improvements/">Room for graphical improvement</a></h1>
      <div class="entry">
        <i>
          December 30, 2019
        </i>
        <p><img src="/assets/sos-with-bg.jpg" alt="Current state of the GUI" class="thumbnail" title="It's always christmas with SnowflakeOS" />
In the last post, I presented the first working version of SnowflakeOS’s window manager. While it worked, it had<sup>[<a href="" title="still has">1</a>]</sup> a few important shortcomings.</p>


      </div>
      <a href="/room-for-improvements/" class="read-more">Read More</a>
    </article>
  
    <article class="post">
      <h1><a href="/window-manager/">Graphics: from pixels to windows</a></h1>
      <div class="entry">
        <i>
          December 15, 2019
        </i>
        <p><img src="/assets/kerning.jpg" alt="Current state of the GUI" class="thumbnail" title="The background is generated by setting the ith pixel to 'i | i*512 | i % 512'" />
With SnowflakeOS starting to have more of the pieces a proper hobby OS should have, it was time to make this state of affair visible from the outside. Graphics!
Ironically, by switching away from text mode, we lose the immediate ability to print text, but as you’ll see we’re going to get it all back. At some point anyway; what’s presented here is  the beginning of this process.</p>


      </div>
      <a href="/window-manager/" class="read-more">Read More</a>
    </article>
  
    <article class="post">
      <h1><a href="/of-mice-and-keyboards/">Mouse support and other PS/2 shenanigans</a></h1>
      <div class="entry">
        <i>
          October 14, 2019
        </i>
        <p><img src="/assets/sos-kbd.png" alt="Keyboard and mouse both working" class="thumbnail" title="Notice the stray 'a'. Thanks, QEMU, I'll debug that some other day." />
At the beginning of last week, I was looking over my keyboard code, still wondering what kind of interface could be exposed to userspace and be useful, and also wondering why my scan codes seemed to have no physical relation to any known keyboard layouts.<br />
So I went over to OSDev’s article about <a href="https://wiki.osdev.org/Keyboard">PS/2 keyboards</a>, which sent me to the article about the <a href="https://wiki.osdev.org/%228042%22_PS/2_Controller">PS/2 controller</a>, and I knew I wanted to do things properly, and at the same time, gain mouse support.</p>


      </div>
      <a href="/of-mice-and-keyboards/" class="read-more">Read More</a>
    </article>
  
    <article class="post">
      <h1><a href="/switches-and-knobs/">On context switching and C programs in userland</a></h1>
      <div class="entry">
        <i>
          October 06, 2019
        </i>
        <p><img src="/assets/garbage.jpg" alt="Executing garbage" class="thumbnail" title="It's abstract art, okay?" />
In the last post, I discussed how I implemented collaborative execution in SnowflakeOS through the <code class="language-plaintext highlighter-rouge">iret</code> instruction. Well, at that time the implementation wasn’t finished, even though I thought it was: I wasn’t restoring general purpose registers. This led to some pretty nice bugs, as pictured above.</p>


      </div>
      <a href="/switches-and-knobs/" class="read-more">Read More</a>
    </article>
  
    <article class="post">
      <h1><a href="/userspace/">Getting to userspace - and back !</a></h1>
      <div class="entry">
        <i>
          September 29, 2019
        </i>
        <p><img src="/assets/userspace.jpg" alt="Userspace printing" class="thumbnail" title="See that 'Hello, world'? Userspace!" />
Before now, SnowflakeOS ran entirely in kernel mode, or <code class="language-plaintext highlighter-rouge">ring 0</code>. Now, the time has come for it to move on to better places, those of userland, also called <code class="language-plaintext highlighter-rouge">ring 3</code>.<br />
The transition to having processes roam free in <code class="language-plaintext highlighter-rouge">ring 3</code> was mostly made in the series of commits from <a href="https://github.com/29jm/SnowflakeOS/commit/a0af7081f44b3c746e661f1e5488ccb06073fa5a">here</a> to <a href="https://github.com/29jm/SnowflakeOS/commit/3ed963cc8847f6ed92ac83c5220190600131f2c3">there</a>, and I encourage readers<sup>[<a href="" title="...what now?">1</a>]</sup> to check them  out.</p>


      </div>
      <a href="/userspace/" class="read-more">Read More</a>
    </article>
  
    <article class="post">
      <h1><a href="/setting-up-the-environnement/">Setting up the environnement</a></h1>
      <div class="entry">
        <i>
          September 21, 2019
        </i>
        <p>The very first step to working on SnowflakeOS again was to setup the environment: download the sources and the tools to build them. Here’s a quick rundown.</p>


      </div>
      <a href="/setting-up-the-environnement/" class="read-more">Read More</a>
    </article>
  
    <article class="post">
      <h1><a href="/absolute-state-of-snowflakeos/">The absolute state of SnowflakeOS</a></h1>
      <div class="entry">
        <i>
          September 21, 2019
        </i>
        <p>In my first run in summer 2015, I programmed the components listed in the following
categories, pretty much in that order. I’ve barely touched them since, so explaining
each of them here should help me get some knowledge back.</p>


      </div>
      <a href="/absolute-state-of-snowflakeos/" class="read-more">Read More</a>
    </article>
  
</div>

    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          



<a href="https://github.com/29jm"><i class="svg-icon github"></i></a>



<a href="/feed.xml"><i class="svg-icon rss"></i></a>




        </footer>
      </div>
    </div>

  </body>
</html>
